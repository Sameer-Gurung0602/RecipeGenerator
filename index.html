<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="styles.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recipe Generator API Documentation</title>
</head>
<body>
    <header>
        <h1>Recipe Generator API Documentation</h1>
        <nav class="header-nav-border-box">
            <h3>Recipes</h3>
            <ul>
                <li><a href="#get-recipes">GET /api/recipes</a></li>
                <li><a href="#get-recipe-by-id">GET /api/recipes/:recipe_id</a></li>
                <li><a href="#get-recipe-dietary">GET /api/recipes/:recipe_id/dietary-restrictions</a></li>
                <li><a href="#get-dietary-restrictions">GET /api/recipes/dietary-restrictions</a></li>
                <li><a href="#get-ingredients">GET /api/recipes/ingredients</a></li>
                <li><a href="#match-recipes">POST /api/recipes/match</a></li>
            </ul>
            <h3>Favourites</h3>
            <ul>
                <li><a href="#get-favourites">GET /api/favourites/:userId</a></li>
                <li><a href="#save-favourite">POST /api/favourites/:userId/recipes</a></li>
                <li><a href="#delete-favourite">DELETE /api/favourites/:userId/recipes/:recipeId</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <!-- RECIPES ENDPOINTS -->
        <section id="get-recipes">
            <h2>
                <hr />
                GET /api/recipes
            </h2>
            <h4>Description:</h4>
            <p>
                Retrieves a list of all recipes in the Recipe Generator database.
                Each recipe includes details such as name, description, cook time,
                difficulty, ingredients, dietary restrictions, and favorite status for the user.
            </p>
            <h4>Query Parameters:</h4>
            <ul>
                <li><strong>userId</strong> (optional, integer) - User ID to check favorite status (default: 1)</li>
                <li><strong>sortBy</strong> (optional, string) - Sort field: "date", "cooktime", or "difficulty"</li>
                <li><strong>sortOrder</strong> (optional, string) - Sort direction: "asc" or "desc" (default: "asc")</li>
            </ul>
            <h4>Response Properties:</h4>
            <ul>
                <li><strong>recipeId</strong> - Unique recipe identifier</li>
                <li><strong>name</strong> - Recipe name</li>
                <li><strong>description</strong> - Recipe description</li>
                <li><strong>cookTime</strong> - Cook time in minutes</li>
                <li><strong>difficulty</strong> - Difficulty level (Easy, Medium, Hard)</li>
                <li><strong>createdAt</strong> - ISO timestamp of creation</li>
                <li><strong>img</strong> - Recipe image URL</li>
                <li><strong>instructions</strong> - Cooking instructions object</li>
                <li><strong>ingredients</strong> - Array of ingredient names</li>
                <li><strong>dietaryRestrictions</strong> - Array of dietary restriction names</li>
                <li><strong>isFavourite</strong> - Boolean indicating if recipe is favorited by user</li>
            </ul>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
[
  {
    "recipeId": 23,
    "name": "Honey Ginger Shrimp",
    "description": "Sweet and spicy shrimp with ginger",
    "cookTime": 20,
    "difficulty": "Easy",
    "createdAt": "2025-01-23T00:00:00.000Z",
    "img": "https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",
    "instructions": {
      "instructionsId": 23,
      "instruction": "1. Marinate shrimp. 2. Cook with ginger. 3. Add honey glaze."
    },
    "ingredients": ["Shrimp", "Ginger", "Honey"],
    "dietaryRestrictions": ["Gluten-Free", "Dairy-Free"],
    "isFavourite": false
  }
]
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>404 Not Found</strong> – Invalid endpoint path</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>

        <section id="get-recipe-by-id">
            <h2>
                <hr />
                GET /api/recipes/:recipe_id
            </h2>
            <h4>Parametric Endpoint:</h4>
            <p>
                <code>:recipe_id</code> - Integer representing the recipe's unique identifier
            </p>
            <h4>Description:</h4>
            <p>
                Retrieves a single recipe by its ID. Returns complete recipe information
                including title, description, instructions, ingredients, dietary restrictions,
                and favorite status for the user.
            </p>
            <h4>Query Parameters:</h4>
            <ul>
                <li><strong>userId</strong> (optional, integer) - User ID to check favorite status (default: 1)</li>
            </ul>
            <h4>Example Request:</h4>
            <p><code>GET /api/recipes/23?userId=1</code></p>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
{
  "recipeId": 23,
  "name": "Honey Ginger Shrimp",
  "description": "Sweet and spicy shrimp with ginger",
  "cookTime": 20,
  "difficulty": "Easy",
  "createdAt": "2025-01-23T00:00:00.000Z",
  "img": "https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",
  "instructions": {
    "instructionsId": 23,
    "instruction": "1. Marinate shrimp. 2. Cook with ginger. 3. Add honey glaze."
  },
  "ingredients": ["Shrimp", "Ginger", "Honey"],
  "dietaryRestrictions": ["Gluten-Free", "Dairy-Free"],
  "isFavourite": false
}
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>400 Bad Request</strong> – Invalid recipe_id format (must be a number)</li>
                <li><strong>404 Not Found</strong> – Recipe with specified ID does not exist</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>

        <section id="get-recipe-dietary">
            <h2>
                <hr />
                GET /api/recipes/:recipe_id/dietary-restrictions
            </h2>
            <h4>Parametric Endpoint:</h4>
            <p>
                <code>:recipe_id</code> - Integer representing the recipe's unique identifier
            </p>
            <h4>Description:</h4>
            <p>
                Retrieves all dietary restrictions associated with a specific recipe.
                Returns an array of dietary restriction names (e.g., Vegan, Gluten-Free).
            </p>
            <h4>Query Parameters:</h4>
            <p>None</p>
            <h4>Example Request:</h4>
            <p><code>GET /api/recipes/23/dietary-restrictions</code></p>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
{
  "dietaryRestrictions": ["Gluten-Free", "Dairy-Free"]
}
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>400 Bad Request</strong> – Invalid recipe_id format (must be a number)</li>
                <li><strong>404 Not Found</strong> – Recipe not found or no dietary restrictions exist</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>

        <section id="get-dietary-restrictions">
            <h2>
                <hr />
                GET /api/recipes/dietary-restrictions
            </h2>
            <h4>Description:</h4>
            <p>
                Retrieves a list of all available dietary restrictions in the system.
                This is useful for filtering recipes or displaying dietary options to users.
            </p>
            <h4>Query Parameters:</h4>
            <p>None</p>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
{
  "dietaryRestrictions": [
    "Vegan",
    "Vegetarian",
    "Gluten-Free",
    "Dairy-Free",
    "Keto",
    "Paleo"
  ]
}
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>404 Not Found</strong> – Invalid endpoint path</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>

        <section id="get-ingredients">
            <h2>
                <hr />
                GET /api/recipes/ingredients
            </h2>
            <h4>Description:</h4>
            <p>
                Retrieves a list of all available ingredients in the database.
                Each ingredient includes an ID and name, useful for building ingredient
                selection interfaces or search features.
            </p>
            <h4>Query Parameters:</h4>
            <p>None</p>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
[
  {
    "ingredientId": 51,
    "ingredientName": "Shrimp"
  },
  {
    "ingredientId": 52,
    "ingredientName": "Lime"
  },
  {
    "ingredientId": 53,
    "ingredientName": "Cilantro"
  },
  {
    "ingredientId": 54,
    "ingredientName": "Broccoli"
  },
  {
    "ingredientId": 55,
    "ingredientName": "Soy Sauce"
  }
]
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>404 Not Found</strong> – Invalid endpoint path</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>

        <section id="match-recipes">
            <h2>
                <hr />
                POST /api/recipes/match
            </h2>
            <h4>Description:</h4>
            <p>
                Matches recipes based on available ingredients and optional dietary restrictions.
                Returns recipes with a match percentage showing how many of the recipe's required
                ingredients you have. Includes lists of matched and missing ingredients.
            </p>
            <h4>Query Parameters:</h4>
            <ul>
                <li><strong>userId</strong> (optional, integer) - User ID to check favorite status (default: 1)</li>
                <li><strong>sortBy</strong> (optional, string) - Sort field: "match", "date", "cooktime", or "difficulty"</li>
                <li><strong>sortOrder</strong> (optional, string) - Sort direction: "asc" or "desc" (default: "asc")</li>
            </ul>
            <h4>Request Body Format:</h4>
            <pre>
{
  "ingredientIds": [51, 52, 57],  // Array of ingredient IDs (optional)
  "dietaryRestrictionIds": [9]     // Array of dietary restriction IDs (optional)
}
            </pre>
            <h4>Example Request:</h4>
            <p><code>POST /api/recipes/match?sortBy=match&sortOrder=desc</code></p>
            <pre>
{
  "ingredientIds": [51, 56, 57],
  "dietaryRestrictionIds": [9]
}
            </pre>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
[
  {
    "recipeId": 23,
    "name": "Honey Ginger Shrimp",
    "description": "Sweet and spicy shrimp with ginger",
    "cookTime": 20,
    "difficulty": "Easy",
    "createdAt": "2025-01-23T00:00:00.000Z",
    "img": "https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",
    "matchPercentage": 100,
    "totalIngredientsRequired": 3,
    "ingredientsMatched": 3,
    "matchedIngredients": ["Shrimp", "Ginger", "Honey"],
    "missingIngredients": [],
    "dietaryRestrictions": ["Gluten-Free", "Dairy-Free"],
    "isFavourite": false
  },
  {
    "recipeId": 27,
    "name": "Honey Lime Shrimp Bowl",
    "description": "Fresh shrimp bowl with lime and honey",
    "cookTime": 25,
    "difficulty": "Medium",
    "createdAt": "2025-01-27T00:00:00.000Z",
    "img": "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",
    "matchPercentage": 67,
    "totalIngredientsRequired": 3,
    "ingredientsMatched": 2,
    "matchedIngredients": ["Shrimp", "Honey"],
    "missingIngredients": ["Lime"],
    "dietaryRestrictions": ["Gluten-Free"],
    "isFavourite": true
  }
]
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>400 Bad Request</strong> – At least one ingredient or dietary restriction is required</li>
                <li><strong>400 Bad Request</strong> – Invalid ingredient or dietary restriction IDs</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>

        <!-- FAVOURITES ENDPOINTS -->
        <section id="get-favourites">
            <h2>
                <hr />
                GET /api/favourites/:userId
            </h2>
            <h4>Parametric Endpoint:</h4>
            <p>
                <code>:userId</code> - Integer representing the user's unique identifier
            </p>
            <h4>Description:</h4>
            <p>
                Retrieves all recipes that a specific user has saved to their favorites.
                Returns complete recipe information for each favorited recipe.
            </p>
            <h4>Query Parameters:</h4>
            <p>None</p>
            <h4>Example Request:</h4>
            <p><code>GET /api/favourites/1</code></p>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
[
  {
    "recipeId": 23,
    "name": "Honey Ginger Shrimp",
    "description": "Sweet and spicy shrimp with ginger",
    "cookTime": 20,
    "difficulty": "Easy",
    "createdAt": "2025-01-23T00:00:00.000Z",
    "img": "https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",
    "instructions": {
      "instructionsId": 23,
      "instruction": "1. Marinate shrimp. 2. Cook with ginger. 3. Add honey glaze."
    },
    "ingredients": ["Shrimp", "Ginger", "Honey"],
    "dietaryRestrictions": ["Gluten-Free", "Dairy-Free"],
    "isFavourite": true
  }
]
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>400 Bad Request</strong> – Invalid userId format (must be a number)</li>
                <li><strong>404 Not Found</strong> – User not found</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>

        <section id="save-favourite">
            <h2>
                <hr />
                POST /api/favourites/:userId/recipes
            </h2>
            <h4>Parametric Endpoint:</h4>
            <p>
                <code>:userId</code> - Integer representing the user's unique identifier
            </p>
            <h4>Description:</h4>
            <p>
                Adds a recipe to a user's favorites collection. If the recipe is already
                favorited, the request will fail with a 404 status.
            </p>
            <h4>Request Body Format:</h4>
            <pre>
{
  "recipeId": integer (required)
}
            </pre>
            <h4>Example Request:</h4>
            <p><code>POST /api/favourites/1/recipes</code></p>
            <pre>
{
  "recipeId": 23
}
            </pre>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
"Recipe saved to favourites successfully."
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>400 Bad Request</strong> – Invalid request data (missing or invalid recipeId)</li>
                <li><strong>404 Not Found</strong> – Recipe or User not found, or recipe already favorited</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>

        <section id="delete-favourite">
            <h2>
                <hr />
                DELETE /api/favourites/:userId/recipes/:recipeId
            </h2>
            <h4>Parametric Endpoint:</h4>
            <p>
                <code>:userId</code> - Integer representing the user's unique identifier<br>
                <code>:recipeId</code> - Integer representing the recipe's unique identifier
            </p>
            <h4>Description:</h4>
            <p>
                Removes a recipe from a user's favorites collection. If the recipe
                is not in the user's favorites, the request will fail with a 404 status.
            </p>
            <h4>Example Request:</h4>
            <p><code>DELETE /api/favourites/1/recipes/23</code></p>
            <h4>Example Response:</h4>
            <p><strong>Status:</strong> 200 OK</p>
            <pre>
{
  "message": "Recipe removed from favourites successfully"
}
            </pre>
            <h4>Expected Error Codes:</h4>
            <ul>
                <li><strong>400 Bad Request</strong> – Invalid userId or recipeId format (must be numbers)</li>
                <li><strong>404 Not Found</strong> – Recipe not found or not in user's favourites</li>
                <li><strong>500 Internal Server Error</strong> – Unexpected server error</li>
            </ul>
        </section>
    </main>
    <footer>
        <hr />
        <div class="footer-content">
            <p>
                Recipe Generator API - Discover delicious recipes based on your available ingredients.
            </p>
        </div>
    </footer>
</body>
</html>